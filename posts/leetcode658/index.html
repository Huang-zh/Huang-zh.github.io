<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="author" content="[huangzh]">
<meta name="description" content="给定一个排序好的数组 arr ，两个整数 k 和 x ，从数组中找到最靠近 x（两数之差最小）的 k 个数。返回的结果必须要是按升序排好的。
整数 a 比整数 b 更接近 x 需要满足：
  |a - x| &amp;lt; |b - x| 或者
  |a - x| == |b - x| 且 a &amp;lt; b
  示例 1：
输入：arr = [1,2,3,4,5], k = 4, x = 3
输出：[1,2,3,4]
示例 2：
输入：arr = [1,2,3,4,5], k = 4, x = -1
输出：[1,2,3,4]
提示：
1 &amp;lt;= k &amp;lt;= arr." />
<meta name="keywords" content=", 算法" />
<meta name="robots" content="noodp" />
<meta name="theme-color" content="" />
<link rel="canonical" href="https://Huang-zh.github.io/posts/leetcode658/" />


    <title>
        
            LeetCode算法手记：658.找到 K 个最接近的元素 :: 此间的少年 
        
    </title>





<link rel="stylesheet" href="/main.b78c3be9451dc4ca61ca377f3dc2cf2e6345a44c2bae46216a322ef366daa399.css" integrity="sha256-t4w76UUdxMphyjd/PcLPLmNFpEwrrkYhajIu82bao5k=">



    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="">
    <link rel="shortcut icon" href="/favicon.ico">
    <meta name="msapplication-TileColor" content="">


<meta itemprop="name" content="LeetCode算法手记：658.找到 K 个最接近的元素">
<meta itemprop="description" content="给定一个排序好的数组 arr ，两个整数 k 和 x ，从数组中找到最靠近 x（两数之差最小）的 k 个数。返回的结果必须要是按升序排好的。
整数 a 比整数 b 更接近 x 需要满足：
  |a - x| &lt; |b - x| 或者
  |a - x| == |b - x| 且 a &lt; b
  示例 1：
输入：arr = [1,2,3,4,5], k = 4, x = 3
输出：[1,2,3,4]
示例 2：
输入：arr = [1,2,3,4,5], k = 4, x = -1
输出：[1,2,3,4]
提示：
1 &lt;= k &lt;= arr."><meta itemprop="datePublished" content="2023-09-05T21:16:44+08:00" />
<meta itemprop="dateModified" content="2023-09-05T21:16:44+08:00" />
<meta itemprop="wordCount" content="291"><meta itemprop="image" content="https://Huang-zh.github.io"/>
<meta itemprop="keywords" content="算法," />
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://Huang-zh.github.io"/>

<meta name="twitter:title" content="LeetCode算法手记：658.找到 K 个最接近的元素"/>
<meta name="twitter:description" content="给定一个排序好的数组 arr ，两个整数 k 和 x ，从数组中找到最靠近 x（两数之差最小）的 k 个数。返回的结果必须要是按升序排好的。
整数 a 比整数 b 更接近 x 需要满足：
  |a - x| &lt; |b - x| 或者
  |a - x| == |b - x| 且 a &lt; b
  示例 1：
输入：arr = [1,2,3,4,5], k = 4, x = 3
输出：[1,2,3,4]
示例 2：
输入：arr = [1,2,3,4,5], k = 4, x = -1
输出：[1,2,3,4]
提示：
1 &lt;= k &lt;= arr."/>



    <meta property="og:title" content="LeetCode算法手记：658.找到 K 个最接近的元素" />
<meta property="og:description" content="给定一个排序好的数组 arr ，两个整数 k 和 x ，从数组中找到最靠近 x（两数之差最小）的 k 个数。返回的结果必须要是按升序排好的。
整数 a 比整数 b 更接近 x 需要满足：
  |a - x| &lt; |b - x| 或者
  |a - x| == |b - x| 且 a &lt; b
  示例 1：
输入：arr = [1,2,3,4,5], k = 4, x = 3
输出：[1,2,3,4]
示例 2：
输入：arr = [1,2,3,4,5], k = 4, x = -1
输出：[1,2,3,4]
提示：
1 &lt;= k &lt;= arr." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://Huang-zh.github.io/posts/leetcode658/" /><meta property="og:image" content="https://Huang-zh.github.io"/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-09-05T21:16:44+08:00" />
<meta property="article:modified_time" content="2023-09-05T21:16:44+08:00" /><meta property="og:site_name" content="此间的少年" />






    <meta property="article:section" content="算法手记" />



    <meta property="article:published_time" content="2023-09-05 21:16:44 &#43;0800 CST" />











    </head>

    
        <body>
    
    
        <div class="container">
            <header class="header">
    <span class="header__inner">
        <a href="/" style="text-decoration: none;">
    <div class="logo">
        
            <span class="logo__mark">></span>
            <span class="logo__text ">
                huan.g</span>
            <span class="logo__cursor" style=
                  "
                   
                   ">
            </span>
        
    </div>
</a>


        <span class="header__right">
            
                <nav class="menu">
    <ul class="menu__inner"><li><a href="/about/">关于我</a></li><li><a href="/categories/">分类</a></li><li><a href="/posts/">文章</a></li>
    </ul>
</nav>

                <span class="menu-trigger">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M0 0h24v24H0z" fill="none"/>
                        <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                    </svg>
                </span>
            
        </span>
    </span>
</header>



            <div class="content">
                
  <main class="post">

    <div class="post-info">
      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock">
          <circle cx="12" cy="12" r="10"></circle>
          <polyline points="12 6 12 12 16 14"></polyline>
        </svg>
        2 minutes

        
      </p>
    </div>

    <article>
      <h1 class="post-title">
        <a href="https://Huang-zh.github.io/posts/leetcode658/">LeetCode算法手记：658.找到 K 个最接近的元素</a>
      </h1>

      

      

      

      <div class="post-content">
        <blockquote>
<p>给定一个排序好的数组 arr ，两个整数 k 和 x ，从数组中找到最靠近 x（两数之差最小）的 k 个数。返回的结果必须要是按升序排好的。</p>
<p>整数 a 比整数 b 更接近 x 需要满足：</p>
<ul>
<li>
<p>|a - x| &lt; |b - x| 或者</p>
</li>
<li>
<p>|a - x| == |b - x| 且 a &lt; b</p>
</li>
</ul>
<p>示例 1：</p>
<p>输入：arr = [1,2,3,4,5], k = 4, x = 3</p>
<p>输出：[1,2,3,4]</p>
<p>示例 2：</p>
<p>输入：arr = [1,2,3,4,5], k = 4, x = -1</p>
<p>输出：[1,2,3,4]</p>
<p>提示：</p>
<p>1 &lt;= k &lt;= arr.length</p>
<p>1 &lt;= arr.length &lt;= 104</p>
<p>arr 按升序排列</p>
<p>-104 &lt;= arr[i], x &lt;= 104</p>
</blockquote>
<h3 id="思路">思路</h3>
<p>找到数组中从左到右第一次出现x的下标（index），在该下标的左右维护两个指针，分别向左和向右递进来寻找其他更贴近的元素。</p>
<h4 id="思路递推">思路递推</h4>
<p>以[1,2,3,4,5,5,5,6,8]为例，k为4，x为5，即寻找4个最接近5的数字，并由小到大排序返回。可以知道index为4，此时维护left指针为index-1即3，right指针为index即4，开始递进指针，过程如下：</p>
<ol>
<li>left = 3，right = 4，判断此时两指针元素与x的差值，发现right处的差值为0，即差值更小，则将right指针向右递进为5。</li>
<li>left = 3，right = 5，判断此时两指针元素与x的差值，发现right处的差值为0，即差值更小，则将right指针向右递进为6。</li>
<li>left = 3，right = 6，判断此时两指针元素与x的差值，发现right处的差值为0，即差值更小，则将right指针向右递进为7。</li>
<li>left = 3，right = 7，判断此时两指针元素与x的差值，发现两处的差值均为1，即差值相等，根据提议，差值相等时更接近的值需要有更小的下标，则将left指针向左递进为2。</li>
<li>满足4个数字，退出搜寻。</li>
</ol>
<p>此时还要注意几个边界值：</p>
<ul>
<li>左右指针不能够越出数组边界，当一侧到达边界时，即代表该侧无法再获取接近的值，只需要递进另一侧的指针，从另一侧获取更接近的值。</li>
<li>怎么退出搜寻？不难发现可以通过k的递减来实现循环控制，由于right一开始值为index，即代表right指针一开始对应的元素肯定会被纳入结果，所以循环实际上只用进行k-1次。</li>
</ul>
<h3 id="代码实现">代码实现：</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">LeetCode658</span> <span style="color:#f92672">{</span>

    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> List<span style="color:#f92672">&lt;</span>Integer<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">findClosestElements</span><span style="color:#f92672">(</span><span style="color:#66d9ef">int</span><span style="color:#f92672">[]</span> arr<span style="color:#f92672">,</span> <span style="color:#66d9ef">int</span> k<span style="color:#f92672">,</span> <span style="color:#66d9ef">int</span> x<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#75715e">//找到数组中最左端x对应的下标index
</span><span style="color:#75715e"></span>        <span style="color:#75715e">//在index左右分别维护双指针left和right，其中left指针向左递进，right指针从index向右递进
</span><span style="color:#75715e"></span>        <span style="color:#75715e">//在递进的过程中判断两边的差值，差值较小的一侧表明更接近x，对应侧的指针继续递进寻找下一个更接近的值
</span><span style="color:#75715e"></span>        <span style="color:#75715e">//递进的过程中注意判断是否超出数组边界，若当前侧超出数组边界则另一侧指针递进，直到right-left = k为止
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">int</span> index <span style="color:#f92672">=</span> leftBondBinarySearch<span style="color:#f92672">(</span>arr<span style="color:#f92672">,</span> x<span style="color:#f92672">);</span>
        <span style="color:#66d9ef">int</span> left <span style="color:#f92672">=</span> index <span style="color:#f92672">-</span> 1<span style="color:#f92672">,</span>right <span style="color:#f92672">=</span> index<span style="color:#f92672">;</span>
        List<span style="color:#f92672">&lt;</span>Integer<span style="color:#f92672">&gt;</span> result <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ArrayList<span style="color:#f92672">&lt;&gt;();</span>
        <span style="color:#75715e">//循环只能进行k-1次，因为一开始right下标对应的元素就是本身，即差值为0，肯定会被纳入结果，因此只要再找出k-1个数即可
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">while</span> <span style="color:#f92672">(</span>k<span style="color:#f92672">--</span> <span style="color:#f92672">&gt;</span> 0<span style="color:#f92672">){</span>
            <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>left <span style="color:#f92672">&lt;</span> 0<span style="color:#f92672">)</span>
                <span style="color:#75715e">//超出左边界，右侧指针递进
</span><span style="color:#75715e"></span>                right<span style="color:#f92672">++;</span>
            <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>right <span style="color:#f92672">&gt;</span> arr<span style="color:#f92672">.</span><span style="color:#a6e22e">length</span> <span style="color:#f92672">-</span> 1<span style="color:#f92672">)</span>
                <span style="color:#75715e">//超出右边界，左侧指针递进
</span><span style="color:#75715e"></span>                left<span style="color:#f92672">--;</span>
            <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>x <span style="color:#f92672">-</span> arr<span style="color:#f92672">[</span>left<span style="color:#f92672">]</span> <span style="color:#f92672">&lt;=</span> arr<span style="color:#f92672">[</span>right<span style="color:#f92672">]</span> <span style="color:#f92672">-</span> x<span style="color:#f92672">)</span>
                <span style="color:#75715e">//两侧差值取小的一侧递进，如果相等则取下标更小的元素
</span><span style="color:#75715e"></span>                left<span style="color:#f92672">--;</span>
            <span style="color:#66d9ef">else</span>
                right<span style="color:#f92672">++;</span>
        <span style="color:#f92672">}</span>
        <span style="color:#75715e">//此时left和right的差值为k+1，从left+1处开始获取第一个元素
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">for</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> left<span style="color:#f92672">+</span>1<span style="color:#f92672">;</span> i <span style="color:#f92672">&lt;</span> right<span style="color:#f92672">;</span> i<span style="color:#f92672">++)</span> <span style="color:#f92672">{</span>
            result<span style="color:#f92672">.</span><span style="color:#a6e22e">add</span><span style="color:#f92672">(</span>arr<span style="color:#f92672">[</span>i<span style="color:#f92672">]);</span>
        <span style="color:#f92672">}</span>
        <span style="color:#66d9ef">return</span> result<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    <span style="color:#75715e">/**
</span><span style="color:#75715e">     * @Author huang.zh
</span><span style="color:#75715e">     * @Description 找到数组中最左端出现的值为target的元素下标，即二分左边界搜索
</span><span style="color:#75715e">     * @Date 9:43 PM 2023/9/5
</span><span style="color:#75715e">     * @Param [arr, target]
</span><span style="color:#75715e">     * @return
</span><span style="color:#75715e">     **/</span>
    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">leftBondBinarySearch</span><span style="color:#f92672">(</span><span style="color:#66d9ef">int</span><span style="color:#f92672">[]</span> arr<span style="color:#f92672">,</span><span style="color:#66d9ef">int</span> target<span style="color:#f92672">){</span>
        <span style="color:#66d9ef">int</span> left <span style="color:#f92672">=</span> 0<span style="color:#f92672">,</span>right <span style="color:#f92672">=</span> arr<span style="color:#f92672">.</span><span style="color:#a6e22e">length</span> <span style="color:#f92672">-</span> 1<span style="color:#f92672">;</span>
        <span style="color:#66d9ef">while</span> <span style="color:#f92672">(</span>left <span style="color:#f92672">&lt;</span> right<span style="color:#f92672">){</span>
            <span style="color:#66d9ef">int</span> mid <span style="color:#f92672">=</span> left <span style="color:#f92672">+</span> <span style="color:#f92672">(</span>right <span style="color:#f92672">-</span> left<span style="color:#f92672">)/</span>2<span style="color:#f92672">;</span>
            <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>arr<span style="color:#f92672">[</span>mid<span style="color:#f92672">]</span> <span style="color:#f92672">==</span> target<span style="color:#f92672">){</span>
                <span style="color:#75715e">//命中元素，右指针重置，在[left,mid]中寻找更左端的值为target的元素
</span><span style="color:#75715e"></span>                right <span style="color:#f92672">=</span> mid<span style="color:#f92672">;</span>
            <span style="color:#f92672">}</span> <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>arr<span style="color:#f92672">[</span>mid<span style="color:#f92672">]</span> <span style="color:#f92672">&lt;</span> target<span style="color:#f92672">){</span>
                left <span style="color:#f92672">=</span> mid <span style="color:#f92672">+</span> 1<span style="color:#f92672">;</span>
            <span style="color:#f92672">}</span> <span style="color:#66d9ef">else</span> <span style="color:#f92672">{</span>
                right <span style="color:#f92672">=</span> mid <span style="color:#f92672">-</span> 1<span style="color:#f92672">;</span>
            <span style="color:#f92672">}</span>
        <span style="color:#f92672">}</span>
        <span style="color:#66d9ef">return</span> left<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>


    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">test</span><span style="color:#f92672">(){</span>
        List<span style="color:#f92672">&lt;</span>Integer<span style="color:#f92672">&gt;</span> list <span style="color:#f92672">=</span> findClosestElements<span style="color:#f92672">(</span><span style="color:#66d9ef">new</span> <span style="color:#66d9ef">int</span><span style="color:#f92672">[]{</span>1<span style="color:#f92672">,</span> 2<span style="color:#f92672">,</span> 3<span style="color:#f92672">,</span> 4<span style="color:#f92672">,</span> 5<span style="color:#f92672">},</span> 2<span style="color:#f92672">,</span> 4<span style="color:#f92672">);</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>Arrays<span style="color:#f92672">.</span><span style="color:#a6e22e">toString</span><span style="color:#f92672">(</span>list<span style="color:#f92672">.</span><span style="color:#a6e22e">toArray</span><span style="color:#f92672">()));</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div>
      </div>
    </article>

    <hr />

    <div class="post-info">
      
    <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7" y2="7"></line></svg>

        <span class="tag"><a href="https://Huang-zh.github.io/tags/%E7%AE%97%E6%B3%95/">算法</a></span>
        
    </p>

      
    <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-folder meta-icon"><path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path></svg>

        <span class="tag"><a href="https://Huang-zh.github.io/categories/%E7%AE%97%E6%B3%95%E6%89%8B%E8%AE%B0/">算法手记</a></span>
        
    </p>


      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text">
          <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
          <polyline points="14 2 14 8 20 8"></polyline>
          <line x1="16" y1="13" x2="8" y2="13"></line>
          <line x1="16" y1="17" x2="8" y2="17"></line>
          <polyline points="10 9 9 9 8 9"></polyline>
        </svg>
        291 Words
      </p>

      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar">
          <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
          <line x1="16" y1="2" x2="16" y2="6"></line>
          <line x1="8" y1="2" x2="8" y2="6"></line>
          <line x1="3" y1="10" x2="21" y2="10"></line>
        </svg>
        
          2023-09-05
        

        
      </p>
    </div>

    
    <div class="pagination">
        

        <div class="pagination__buttons">
            
            <span class="button previous">
                <a href="https://Huang-zh.github.io/posts/leetcode777/">
                    <span class="button__icon">←</span>
                    <span class="button__text">LeetCode算法手记：777.在LR字符串中交换相邻字符</span>
                </a>
            </span>
            

            
            <span class="button next">
                <a href="https://Huang-zh.github.io/posts/redis3/">
                    <span class="button__text">Redis存储原理剖析&lt;三&gt;：key的惰性删除--异步删除策略</span>
                    <span class="button__icon">→</span>
                </a>
            </span>
            
        </div>
    </div>


    

    

  </main>

            </div>

            
                <footer class="footer">
    
    <div class="footer__inner">
        <div class="footer__content">
            
            <span><a href="https://Huang-zh.github.io">huang.zh</a></span>
            
            
            
        </div>
    </div>
    
    
    <div class="footer__inner">
        <div class="footer__content">
            <span><a href="http://beian.miit.gov.cn">浙ICP备19022115号-1</a></span>
        </div>
    </div>
    
</footer>



            
        </div>

        



<script type="text/javascript" src="/bundle.min.644292943ae47eef02fcd64b11757aeb8caeeaebf473a823b62099edccac808e8d82689359f285e5d95994e5ad5ae3b9c1ccc281eb1828e67d0ba6630f95b832.js" integrity="sha512-ZEKSlDrkfu8C/NZLEXV664yu6uv0c6gjtiCZ7cysgI6NgmiTWfKF5dlZlOWtWuO5wczCgesYKOZ9C6ZjD5W4Mg=="></script>



    </body>
</html>
